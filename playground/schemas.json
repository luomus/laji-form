{
	"id": "JX.519",
	"title": "Retkikertomuslomake",
	"description": "Tällä lomakkeella voit ilmoittaa yhden tai useamman päivän kestäneen retken kaikki havaintotiedot ja mahdollisesti kokoelmanäytteeksi otettujen yksilöiden tiedot.",
	"uiSchema": {
		"ui:order": [
			"gatheringEvent",
			"gatherings"
		],
		"ui:field": "inject",
		"ui:options": {
			"injections": {
				"fields": [
					"editors",
					"secureLevel"
				],
				"target": "gatheringEvent"
			},
			"uiSchema": {
				"ui:field": "injectDefaultValue",
				"ui:options": {
					"fields": [
						"dateBegin",
						"dateEnd"
					],
					"target": "gatherings",
					"source": "gatheringEvent"
				}
			}
		},
		"gatheringEvent": {
			"ui:field": "nested",
			"classNames": "well well-sm",
			"ui:options": {
				"nests": {
					"splittable": {
						"fields": [
							"leg",
							"editors",
							"legPublic",
							"secureLevel"
						],
						"uiSchema": {
							"ui:field": "split",
							"ui:options": {
								"splits": [
									{
										"fields": ["leg", "editors"],
										"name": "",
										"lg": 3,
										"md": 4,
										"sm": 5,
										"uiSchema": {
											"ui:field": "nested",
											"ui:order": [
												""
											],
											"ui:options": {
												"nests": {
													"": {
														"fields": [
															"leg",
															"editors"
														],
														"uiSchema": {
															"ui:field": "dependentBoolean",
															"ui:options": {
																"booleanField": "editors",
																"booleanDefiner": "leg",
																"uiSchema": {
																	"ui:field": "arrayCombiner",
																	"ui:options": {
																		"uiSchema": {
																			"items": {
																				"leg": {
																					"ui:widget": "autosuggest",
																					"ui:options": {
																						"autosuggestField": "friends",
																						"allowNonsuggestedValue": true,
																						"suggestionReceive": "key",
																						"preventTypingPattern": "^MA\\.\\d+$"
																					}
																				},
																				"editors": {
																					"ui:help": "Jos syötät havainnon tekijäksi tunnistetun käyttäjän, ja käyttäjä on lisännyt sinut kaveriksesi, voit antaa kyseiselle käyttäjälle oikeuden muokata tätä retkikertomusta. Lisäksi tämän retkikertomuksen havainnot näkyvät kyseiselle käyttäjälle hänen omien havaintojensa joukossa."
																				},
																				"ui:field": "dependentDisable",
																				"ui:options": {
																					"disableDefiner": "leg",
																					"disableField": "editors",
																					"regexp": "^MA\\.\\d+$"
																				}
																			},
																			"ui:field": "table",
																			"ui:options": {
																				"xs": 6,
																				"sm": 6,
																				"md": 6,
																				"lg": 6
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
										}
									},
									{
										"fields": ["legPublic"],
										"lg": 2,
										"md": 3,
										"sm": 3,
										"xs": 6,
										"name": ""
									},
									{
										"fields": ["secureLevel"],
										"name": "",
										"lg": 2,
										"md": 2,
										"sm": 3,
										"xs": 6,
										"uiSchema": {
											"secureLevel": {
												"ui:widget": "anyToBoolean",
												"ui:options": {
													"trueValue": "MX.secureLevelKM10",
													"falseValue": "MX.secureLevelNone"
												}
											}
										}
									}
								]
							}

						}
					},
					"eventTime": {
						"fields": [
							"dateBegin",
							"dateEnd"
						],
						"title": "",
						"uiSchema": {
							"ui:field": "grid",
							"ui:options": {
								"lg": {"dateBegin":3, "dateEnd": 2},
								"md": {"dateBegin":4, "dateEnd": 2},
								"sm": {"dateBegin":5, "dateEnd": 3},
								"xs": 12
							},
							"dateBegin": {
								"ui:widget": "dateTime",
								"ui:options": {
									"showButtons": true
								}
							},
							"dateEnd": {
								"ui:widget": "dateTime"
							}
						}
					}
				}
			}
		},
		"gatherings": {
			"ui:field": "altMapArray",
			"classNames": "panel panel-default panel-body map-field",
			"ui:options": {
				"geometryMapper": "units",
				"topOffset": 50,
				"mapSizes": {
					"lg": 4,
					"md": 4,
					"sm": 6,
					"xs": 6
				},
				"popupFields": [
					{
						"field": "informalNameString"
					},
					{
						"field": "sex"
					},
					{
						"field": "notes"
					}
				],
				"uiSchema": {
					"ui:field": "accordionArray",
					"ui:options": {
						"headerFormatter": "units",
						"popupFields": [
							{
								"field": "units",
								"mapper": "units"
							},
							{
								"field": "localityDescription"
							}
						]
					},
					"items": {
						"ui:field": "nested",
						"ui:options": {
							"nests": {
								"eventTime": {
									"title": "",
									"fields": [
										"dateBegin",
										"dateEnd"
									]
								},
								"placeWrapper": {
									"title": "Havaintopaikan tiedot",
									"fields": [
										"predominantTree",
										"habitat",
										"locality",
										"localityDescription",
										"images",
										"eventTime"
									]
								}
							},
							"uiSchema": {
								"ui:order": ["*", "units"],
								"wgs84GeometryCollection": {
									"ui:field": "hidden"
								},
								"placeWrapper": {
									"ui:field": "scoped",
									"classNames": "well well-sm",
									"ui:options": {
										"includeAdditionalFieldsChooserButton": true,
										"additionalsPersistenceId": "gatherings",
										"fields": [
											"locality",
											"localityDescription",
											"images",
											"eventTime"
										],
										"uiSchema": {
											"habitat": {
												"ui:options": {
													"sortable": false
												},
												"items": {
													"ui:field": "injectFromContext",
													"ui:options": {
														"injections": {
															"ui:options.tree": "habitat.tree"
														},
														"uiSchema": {
															"ui:field": "tree",
															"ui:options": {
																"uiSchema": {
																	"ui:field": "grid",
																	"ui:options": {
																		"lg": 3,
																		"md": 3,
																		"sm": 12,
																		"xs": 12
																	}
																}
															}
														}
													}
												}
											},
											"images": {
												"ui:field": "imageArray",
												"ui:options": {
													"metadataSchemas": {
														"schema": {
															"type": "object",
															"properties": {
																"intellectualRights": {
																	"type": "string",
																	"enum": [
																		"",
																		"MY.intellectualRightsUnknown",
																		"MY.intellectualRightsCC-BY",
																		"MY.intellectualRightsCC-BY-SA",
																		"MY.intellectualRightsCC-BY-NC",
																		"MY.intellectualRightsCC-BY-NC-SA",
																		"MY.intellectualRightsCC0",
																		"MY.intellectualRightsODBL",
																		"MY.intellectualRightsPD",
																		"MY.intellectualRightsARR"
																	]
																},
																"capturerVerbatim": {
																	"type": "array",
																	"items": {
																		"type": "string"
																	}
																},
																"intellectualOwner": {
																	"type": "string"
																}
															}
														}
													}
												}
											},
											"eventTime": {
												"ui:field": "grid",
												"ui:options": {
													"lg": {"dateBegin":6, "dateEnd": 3},
													"md": {"dateBegin":7, "dateEnd": 4},
													"sm": 12,
													"xs": 12
												},
												"dateBegin": {
													"ui:widget": "dateTime",
													"ui:options": {
														"showButtons": true
													}
												},
												"dateEnd": {
													"ui:widget": "dateTime"
												}
											}
										}
									}
								},
								"units": {
									"ui:field": "copyValuesArray",
									"ui:options": {
										"copy": [
											"recordBasis"
										],
										"uiSchema": {
											"ui:field": "autoArray",
											"ui:options": {
												"confirmDelete": true
											},
											"items": {
												"ui:field": "flat",
												"ui:options": {
													"fields": [
														"identifications",
														"unitGathering"
													],
													"uiSchema": {
														"ui:field": "scoped",
														"classNames": "well well-sm",
														"ui:options": {
															"additionalsGroupingPath": "fieldScopes.unitType",
															"additionalsGroupsTranslator": "taxonGroups",
															"additionalsPersistenceKey": "unitType",
															"additionalsPersistenceId": "gathering_unit_unitType",
															"includeAdditionalFieldsChooserButton": true,
															"glyphFields": {
																"camera": {
																	"show": "images"
																}, "map-marker": {
																	"fn": "setLocation"
																}
															},
															"uiSchema": {
																"ui:field": "autosuggest",
																"ui:options": {
																	"autosuggestField": "taxon",
																	"allowNonsuggestedValue": true,
																	"suggestionInputField": "informalNameString",
																	"suggestionValueField": "taxonID",
																	"suggestionReceivers": {
																		"informalNameString": "value",
																		"_identifications.taxon": "value",
																		"unitType": "$taxonGroup",
																		"taxonID": "key",
																		"_identifications.taxonID": "key"
																	},
																	"inputTransformer": {
																		"regexp": "(.*)\\?$",
																		"transformations": {
																			"taxonConfidence": "MY.taxonConfidenceUnsure"
																		}
																	},
																	"uiSchema": {
																		"ui:field": "grid",
																		"ui:options": {
																			"lg": {
																				"_identifications.identificationBasis": 4,
																				"recordBasis": 1,
																				"*" : 2
																			},
																			"md": {
																				"_identifications.identificationBasis": 4,
																				"recordBasis": 1,
																				"*" : 2
																			},
																			"sm": {
																				"_identifications.identificationBasis": 8,
																				"recordBasis": 2,
																				"*" : 4
																			},
																			"xs": 12
																		},
																		"_identifications.taxonID": {
																			"ui:widget": "hidden"
																		},
																		"_identifications.detDate": {
																			"ui:widget": "date"
																		},
																		"_identifications.taxon": {
																			"ui:widget": "hidden"
																		},
																		"unitType": {
																			"ui:field": "hidden"
																		},
																		"taxonID": {
																			"ui:widget": "hidden"
																		},
																		"images": {
																			"ui:field": "imageArray",
																			"ui:options": {
																				"metadataSchemas": {
																					"schema": {
																						"type": "object",
																						"properties": {
																							"intellectualRights": {
																								"type": "string",
																								"enum": [
																									"",
																									"MY.intellectualRightsUnknown",
																									"MY.intellectualRightsCC-BY",
																									"MY.intellectualRightsCC-BY-SA",
																									"MY.intellectualRightsCC-BY-NC",
																									"MY.intellectualRightsCC-BY-NC-SA",
																									"MY.intellectualRightsCC0",
																									"MY.intellectualRightsODBL",
																									"MY.intellectualRightsPD",
																									"MY.intellectualRightsARR"
																								]
																							},
																							"capturerVerbatim": {
																								"type": "array",
																								"items": {
																									"type": "string"
																								}
																							},
																							"intellectualOwner": {
																								"type": "string"
																							}
																						}
																					}
																				}
																			}
																		},
																		"_unitGathering.geometry": {
																			"ui:field": "hidden"
																		},
																		"_unitGathering.dateBegin": {
																			"ui:widget": "dateTime"
																		},
																		"_unitGathering.dateEnd": {
																			"ui:widget": "dateTime"
																		},
																		"recordBasis": {
																			"ui:field": "filteredEnum",
																			"ui:options": {
																				"type": "whitelist",
																				"filter": [
																					"",
																					"MY.recordBasisHumanObservationSeen",
																					"MY.recordBasisHumanObservationHeard",
																					"MY.recordBasisPreservedSpecimen",
																					"MY.recordBasisHumanObservationHandled",
																					"MY.recordBasisHumanObservationIndirect",
																					"MY.recordBasisMachineObservation"
																				],
																				"uiSchema": {
																					"ui:widget": "imageSelect",
																					"ui:options": {
																						"images": {
																							"MY.recordBasisHumanObservationSeen": "seen",
																							"MY.recordBasisHumanObservationHeard": "heard",
																							"MY.recordBasisPreservedSpecimen": "specimen",
																							"MY.recordBasisHumanObservationHandled": "handled",
																							"MY.recordBasisHumanObservationIndirect": "indirect",
																							"MY.recordBasisMachineObservation": "media"
																						}
																					}
																				}
																			}
																		},
																		"hostID": {
																			"ui:widget": "autosuggest",
																			"ui:options": {
																				"autosuggestField": "taxon",
																				"allowNonsuggestedValue": true,
																				"suggestionReceive": "key"
																			}
																		}
																	}
																}
															},
															"fields": [
																"informalNameString",
																"unitType",
																"taxonID",
																"taxonConfidence",
																"recordBasis"
															],
															"fieldScopes": {
																"unitType": {
																	"+": {
																		"fields": [
																			"_identifications.identificationBasis",
																			"_identifications.taxonID",
																			"_identifications.taxon",
																			"_identifications.det",
																			"_identifications.detMethod",
																			"_identifications.detDate",
																			"countOfOccurrences",
																			"sex",
																			"notes"
																		],
																		"additionalFields": [
																			"_unitGathering.dateBegin",
																			"_unitGathering.dateEnd",
																			"_unitGathering.habitatIUCN",
																			"_unitGathering.habitatDescription",
																			"preparations",
																			"nativeStatus"
																		]
																	},
																	"MVL.232": {
																		"fields": [
																			"lifeStage",
																			"hostID"
																		]
																	},
																	"MVL.233": {
																		"additionalFields": [
																			"substrateSpecies",
																			"substrateNotes",
																			"taste",
																			"tasteNotes",
																			"smell",
																			"smellNotes"
																		]
																	}
																}
															}
														}
													}
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	},
	"schema": {
		"type": "object",
		"properties": {
			"editors": {
				"type": "array",
				"title": "Muokkausoikeus",
				"items": {
					"type": "string"
				}
			},
			"secureLevel": {
				"type": "string",
				"default": "MX.secureLevelNone",
				"enum": [
					"",
					"MX.secureLevelNone",
					"MX.secureLevelKM1",
					"MX.secureLevelKM5",
					"MX.secureLevelKM10",
					"MX.secureLevelKM25",
					"MX.secureLevelKM50",
					"MX.secureLevelKM100",
					"MX.secureLevelHighest",
					"MX.secureLevelNoShow"
				],
				"enumNames": [
					"",
					"None",
					"1 km",
					"5 km",
					"10 km",
					"25 km",
					"50 km",
					"100 km",
					"Highest",
					"Not shown at all - used mainly to prevent spam"
				]
			},
			"gatheringEvent": {
				"type": "object",
				"title": "",
				"properties": {
					"leg": {
						"type": "array",
						"title": "Havainnoitsijat",
						"items": {
							"type": "string"
						}
					},
					"legPublic": {
						"type": "boolean",
						"title": "Näytetäänkö nimet julkisesti?",
						"default": true
					},
					"dateBegin": {
						"type": "string",
						"title": "Alkupäivä"
					},
					"dateEnd": {
						"type": "string",
						"title": "Loppupäivä"
					}
				},
				"required": []
			},
			"gatherings": {
				"type": "array",
				"items": {
					"title": "Paikka",
					"type": "object",
					"properties": {
						"dateBegin": {
							"type": "string",
							"title": "Alkupäivä"
						},
						"dateEnd": {
							"type": "string",
							"title": "Loppupäivä"
						},
						"habitat": {
							"type": "array",
							"title": "Elinympäristö",
							"items": {
								"type": "string",
								"enum": [
									"",
									"MY.habitatEnumValue1",
									"MY.habitatEnumValue2",
									"MY.habitatEnumValue3",
									"MY.habitatEnumValue4",
									"MY.habitatEnumValue5",
									"MY.habitatEnumValue6",
									"MY.habitatEnumValue7",
									"MY.habitatEnumValue13",
									"MY.habitatEnumValue14",
									"MY.habitatEnumValue15",
									"MY.habitatEnumValue21",
									"MY.habitatEnumValue32",
									"MY.habitatEnumValue33",
									"MY.habitatEnumValue34",
									"MY.habitatEnumValue35",
									"MY.habitatEnumValue36",
									"MY.habitatEnumValue39",
									"MY.habitatEnumValue37",
									"MY.habitatEnumValue38",
									"MY.habitatEnumValue40",
									"MY.habitatEnumValue41",
									"MY.habitatEnumValue42",
									"MY.habitatEnumValue43",
									"MY.habitatEnumValue44",
									"MY.habitatEnumValue45",
									"MY.habitatEnumValue46",
									"MY.habitatEnumValue47",
									"MY.habitatEnumValue48",
									"MY.habitatEnumValue49",
									"MY.habitatEnumValue50",
									"MY.habitatEnumValue51",
									"MY.habitatEnumValue52",
									"MY.habitatEnumValue53",
									"MY.habitatEnumValue54",
									"MY.habitatEnumValue55",
									"MY.habitatEnumValue56",
									"MY.habitatEnumValue57",
									"MY.habitatEnumValue58",
									"MY.habitatEnumValue59",
									"MY.habitatEnumValue60",
									"MY.habitatEnumValue61",
									"MY.habitatEnumValue62",
									"MY.habitatEnumValue63",
									"MY.habitatEnumValue64",
									"MY.habitatEnumValue65",
									"MY.habitatEnumValue66",
									"MY.habitatEnumValue67",
									"MY.habitatEnumValue68",
									"MY.habitatEnumValue69",
									"MY.habitatEnumValue70",
									"MY.habitatEnumValue71",
									"MY.habitatEnumValue72",
									"MY.habitatEnumValue73",
									"MY.habitatEnumValue74",
									"MY.habitatEnumValue75",
									"MY.habitatEnumValue76",
									"MY.habitatEnumValue77",
									"MY.habitatEnumValue78",
									"MY.habitatEnumValue79",
									"MY.habitatEnumValue80",
									"MY.habitatEnumValue81",
									"MY.habitatEnumValue82",
									"MY.habitatEnumValue83",
									"MY.habitatEnumValue84",
									"MY.habitatEnumValue85",
									"MY.habitatEnumValue86",
									"MY.habitatEnumValue87",
									"MY.habitatEnumValue88",
									"MY.habitatEnumValue89",
									"MY.habitatEnumValue90",
									"MY.habitatEnumValue91",
									"MY.habitatEnumValue92",
									"MY.habitatEnumValue93",
									"MY.habitatEnumValue94",
									"MY.habitatEnumValue95",
									"MY.habitatEnumValue96",
									"MY.habitatEnumValue97",
									"MY.habitatEnumValue98",
									"MY.habitatEnumValue99",
									"MY.habitatEnumValue100",
									"MY.habitatEnumValue101",
									"MY.habitatEnumValue102",
									"MY.habitatEnumValue103",
									"MY.habitatEnumValue104",
									"MY.habitatEnumValue105",
									"MY.habitatEnumValue106",
									"MY.habitatEnumValue107",
									"MY.habitatEnumValue108"
								],
								"enumNames": [
									"",
									"Metsä",
									"Kangasmetsä",
									"Kuivahko kangas",
									"Karu kangas",
									"Tuore ja lehtomainen kangas",
									"Lehtometsä",
									"Tuore ja kuiva lehto",
									"Suo",
									"Avosuo",
									"Letto",
									"Rehevä neva",
									"Suolampi (allikko)",
									"Suonsilmä (rimpi)",
									"Vesi",
									"Meri",
									"Merenpohja",
									"Meren muta- tai liejupohja",
									"Meren kallio- tai kivipohja",
									"Meren hiekka- tai sorapohja",
									"Järvi",
									"Karu järvi",
									"Rehevä järvi",
									"Suojärvi",
									"Lampi",
									"Karu lampi",
									"Rehevä lampi",
									"Suolampi",
									"Joki",
									"Koski",
									"Puro",
									"Lähteikkö",
									"Kari, luoto tai särkkä",
									"Tehty vesialue",
									"Allas",
									"Rakennettu virtausuoma",
									"Ranta",
									"Hietikkoranta",
									"Niitty- tai luhtaranta",
									"Kallioranta",
									"Kivikko- tai soraranta",
									"Ranta- tai tulvametsä",
									"Liejukko (avoin tulvaranta)",
									"Viljelysmaa",
									"Viljelty pelto",
									"Puisto tai puutarha",
									"Niittyytynyt pelto",
									"Rakennettu ympäristö",
									"Rakennus tai rakenne",
									"Kerrostalo",
									"Pientalo",
									"Sähkö- tai muu tolppa",
									"Silta",
									"Laituri",
									"Nurmikko",
									"Tien- tai radanvarsi",
									"Päälystetty alue",
									"Muu ihmisen muovaama ympäristö",
									"Niityt",
									"Kuiva niitty tai keto",
									"Tuore niitty",
									"Hakamaa tai lehdesniitty",
									"Maankäyttö- ja kaivuualue",
									"Hiekkakuoppa",
									"Sorakuoppa",
									"Kalkkilouhos",
									"Paljas kalkkimaa",
									"Kaatopaika",
									"Täyttömaa",
									"Turpeenottoalue",
									"Kallio tai kivikko",
									"Kalkkikallio",
									"Serpentiinikallio",
									"Paljas serpentiinimaa",
									"Kalliorotko, rotkolaakso tai kuru",
									"Luola tai halkeama",
									"Hiekkamaa",
									"Harju",
									"Tunturin hiekkapaljastuma",
									"Tunturi",
									"Tunturikangas",
									"Tunturikallio, -louhikko tai -kivikko",
									"Tunturiniitty",
									"Tunturikosteikko",
									"Tunturisuo",
									"Tunturiranta",
									"Tunturin lumimaa",
									"Lumi",
									"Avolumi"
								]
							}
						},
						"locality": {
							"type": "string",
							"title": "Paikannimet"
						},
						"localityDescription": {
							"type": "string",
							"title": "Paikan vapaamuotoinen kuvaus"
						},
						"predominantTree": {
							"type": "string",
							"title": "Valtapuulaji",
							"enum": [
								"",
								"MY.predominantTreeSpruce",
								"MY.predominantTreePine",
								"MY.predominantTreeBirch",
								"MY.predominantTreeAlder",
								"MY.predominantTreeAspen",
								"MY.predominantTreeOak"
							],
							"enumNames": [
								"",
								"Kuusi",
								"Mänty",
								"Koivu",
								"Leppä",
								"Haapa",
								"Tammi"
							]
						},
						"images": {
							"type": "array",
							"title": "Kuvat havaintopaikasta",
							"items": {
								"type": "string"
							}
						},
						"units": {
							"type": "array",
							"title": "Havainnot",
							"items": {
								"type": "object",
								"properties": {
									"recordBasis": {
										"type": "string",
										"title": "Tietueen tyyppi",
										"default": "MY.recordBasisHumanObservationSeen",
										"enum": [
											"",
											"MY.recordBasisPreservedSpecimen",
											"MY.recordBasisFossilSpecimen",
											"MY.recordBasisSubfossilSpecimen",
											"MY.recordBasisHumanObservation",
											"MY.recordBasisMachineObservation",
											"MY.recordBasisLivingSpecimen",
											"MY.recordBasisMicrobialSpecimen",
											"MY.recordBasisHumanObservationSeen",
											"MY.recordBasisHumanObservationHeard",
											"MY.recordBasisHumanObservationPhoto",
											"MY.recordBasisHumanObservationIndirect",
											"MY.recordBasisHumanObservationHandled",
											"MY.recordBasisHumanObservationVideo",
											"MY.recordBasisHumanObservationAudio",
											"MY.recordBasisMachineObservationVideo",
											"MY.recordBasisMachineObservationAudio",
											"MY.recordBasisMachineObservationGeologger",
											"MY.recordBasisMachineObservationSatelliteTransmitter",
											"MY.recordBasisLiterature"
										],
										"enumNames": [
											"",
											"Näyte",
											"Fossiili",
											"MY.recordBasisSubfossilSpecimen",
											"Havainto",
											"Laitteen tekemä havainto",
											"Elävä näyte",
											"Mikrobinäyte",
											"Nähty",
											"Kuultu",
											"Valokuvattu",
											"Epäsuora havainto (jäljet, ulosteet, yms)",
											"Käsitelty (otettu kiinni, tutkittu ja vapautettu)",
											"Videoitu",
											"Äänitetty",
											"Laitteen tekemä videotallenne",
											"Laitteen tekemä äänitallenne",
											"Geopaikannin",
											"Satelliittipaikannus",
											"Kirjallisuustieto"
										]
									},
									"informalNameString": {
										"type": "string",
										"title": "Laji"
									},
									"unitType": {
										"type": "array",
										"title": "MY.unitType",
										"items": {
											"type": "string"
										}
									},
									"taxonID": {
										"type": "string",
										"title": "Taksonin tunniste"
									},
									"taxonConfidence": {
										"type": "string",
										"title": "Varmuus",
										"default": "MY.taxonConfidenceSure",
										"enum": [
											"",
											"MY.taxonConfidenceSure",
											"MY.taxonConfidenceUnsure"
										],
										"enumNames": [
											"",
											"Varma",
											"Epävarma"
										]
									},
									"notes": {
										"type": "string",
										"title": "Lisätiedot"
									},
									"countOfOccurrences": {
										"type": "string",
										"title": "MY.countOfOccurrences"
									},
									"sex": {
										"type": "string",
										"title": "Sukupuoli",
										"enum": [
											"",
											"MY.sexM",
											"MY.sexF",
											"MY.sexU",
											"MY.sexN",
											"MY.sexX",
											"MY.sexW",
											"MY.sexE",
											"MY.sexC"
										],
										"enumNames": [
											"",
											"Koiras",
											"MY.sexF",
											"MY.sexU",
											"MY.sexN",
											"MY.sexX",
											"Työläinen",
											"MY.sexE",
											"MY.sexC"
										]
									},
									"nativeStatus": {
										"type": "boolean"
									},
									"substrate": {
										"type": "string",
										"title": "Kasvualusta"
									},
									"substrateSpecies": {
										"type": "string",
										"title": "MY.substrateSpecies"
									},
									"substrateNotes": {
										"type": "string",
										"title": "MY.substrateNotes"
									},
									"taste": {
										"type": "string",
										"title": "Maku",
										"enum": [
											"",
											"MY.tasteNotTasted",
											"MY.tasteNoTaste",
											"MY.tasteWeak",
											"MY.tasteModerate",
											"MY.tasteStrong"
										],
										"enumNames": [
											"",
											"MY.tasteNotTasted",
											"MY.tasteNoTaste",
											"MY.tasteWeak",
											"MY.tasteModerate",
											"MY.tasteStrong"
										]
									},
									"tasteNotes": {
										"type": "string",
										"title": "MY.tasteNotes"
									},
									"smell": {
										"type": "string",
										"title": "Haju",
										"enum": [
											"",
											"MY.smellNotSmelled",
											"MY.smellNoSmelled",
											"MY.smellWeak",
											"MY.smellModerate",
											"MY.smellStrong"
										],
										"enumNames": [
											"",
											"MY.smellNotSmelled",
											"MY.smellNoSmelled",
											"MY.smellWeak",
											"MY.smellModerate",
											"MY.smellStrong"
										]
									},
									"smellNotes": {
										"type": "string",
										"title": "Smell notes"
									},
									"images": {
										"type": "array",
										"title": "MZ.images",
										"items": {
											"type": "string"
										}
									},
									"preparations": {
										"title": "Preparaatit",
										"type": "string"
									},
									"lifeStage": {
										"type": "string",
										"enum": [
											"",
											"MY.lifeStageEgg",
											"MY.lifeStageLarva",
											"MY.lifeStagePupa",
											"MY.lifeStageJuvenile",
											"MY.lifeStageNymph",
											"MY.lifeStageSubimago",
											"MY.lifeStageImmature",
											"MY.lifeStageAdult",
											"MY.lifeStageFertile",
											"MY.lifeStageSterile",
											"MY.lifeStageTadpole",
											"MY.lifeStageSnag",
											"MY.lifeStageSeed",
											"MY.lifeStageLivePlant",
											"MY.lifeStageDead"
										],
										"enumName": [
											"",
											"egg",
											"larva",
											"pupa",
											"juvenile",
											"nymph",
											"subimago",
											"Immature",
											"adult",
											"fertile",
											"sterile",
											"Tadpole",
											"Snag",
											"Seed",
											"Live plant",
											"Dead"
										]
									},
									"hostID": {
										"type": "string"
									},
									"identifications": {
										"type": "array",
										"items": {
											"type": "object",
											"properties": {
												"taxon": {
													"type": "string",
													"title": "Taksonin nimi"
												},
												"taxonID": {
													"type": "string",
													"title": "Taksonin tunniste"
												},
												"det": {
													"type": "string",
													"title": "Det"
												},
												"detDate": {
													"type": "string",
													"title": "Määritysajankohta"
												},
												"detMethod": {
													"type": "string",
													"title": "MY.detMethod",
													"enum": [
														"",
														"MY.detMethodFreshSample",
														"MY.detMethodMicroscopy",
														"MY.detMethodPhoto"
													],
													"enumNames": [
														"",
														"MY.detMethodFreshSample",
														"MY.detMethodMicroscopy",
														"kuva"
													]
												},
												"identificationBasis": {
													"title": "Määritysperuste",
													"type": "array",
													"uniqueItems": true,
													"items": {
														"type": "string",
														"enum": [
															"",
															"MY.identificationBasisSeen",
															"MY.identificationBasisHeard",
															"MY.identificationBasisHandled",
															"MY.identificationBasisMedia",
															"MY.identificationBasisFreshSpecimen",
															"MY.identificationBasisPreservedSpecimen",
															"MY.identificationBasisMicroscope",
															"MY.identificationBasisSpores",
															"MY.identificationBasisChemical",
															"MY.identificationBasisGenitals",
															"MY.identificationBasisGenitalPreparate"
														],
														"enumNames": [
															"",
															"seen",
															"heard",
															"handled",
															"media",
															"fresh specimen",
															"preserved specimen",
															"microscope",
															"spores",
															"chemical",
															"genitals",
															"genitalPreparate"
														]
													}
												}
											},
											"required": []
										}
									},
									"unitGathering": {
										"type": "object",
										"properties": {
											"geometry": {
												"$ref": "#/definitions/geometry"
											},
											"dateBegin": {
												"type": "string",
												"title": "Aika"
											},
											"dateEnd": {
												"type": "string",
												"title": "Aikavälin loppu"
											},
											"habitatIUCN": {
												"type": "string",
												"title": "Biotooppi"
											},
											"habitatDescription": {
												"type": "string",
												"title": "Biotoopin kuvaus"
											}
										}
									}
								},
								"required": []
							}
						},
						"wgs84GeometryCollection": {
							"type": "object",
							"properties": {
								"geometries": {
									"type": "array",
									"items": {
										"$ref": "#/definitions/geometry"
									}
								}
							}
						}
					},
					"required": []
				}
			}
		},
		"required": [],
		"definitions": {
			"geometry": {
				"type": "object",
				"properties": {
					"type": {
						"type": "string"
					},
					"coordinates": {
						"type": "array",
						"items": {
							"type": "number"
						}
					}
				}
			}
		}
	},
	"validators": {
		"gatheringEvent": {
			"dateSpan": {
				"dateOnly": true,
				"message": "Aikavälin alun %{dateBegin} pitää olla ennen loppua %{dateEnd}"
			},
			"properties": {
				"dateBegin": {
					"datetime": {
						"latest": "now",
						"dateOnly": true,
						"message": "pitää olla ennen %{date}"
					}
				},
				"dateEnd": {
					"datetime": {
						"latest": "now",
						"dateOnly": true,
						"message": "pitää olla ennen %{date}"
					}
				}
			}
		},
		"gatherings": {
			"items": {
				"properties": {
					"units": {
						"presence": {
							"message": "Ei voi olla tyhjä"
						},
						"items": {
							"properties": {
								"identifications": {
									"items": {
										"properties": {
											"detDate": {
												"datetime": {
													"latest": "now",
													"dateOnly": true,
													"message": "pitää olla ennen %{date}"
												}
											}
										}
									}
								}
							}
						}
					}
				}
			},
			"presence": {
				"message": "Ei voi olla tyhjä"
			}
		}
	},
	"uiSchemaContext": {
		"habitat": {
			"tree": {
				"children": {
					"MY.habitatEnumValue1": {
						"children": {
							"MY.habitatEnumValue2": {
								"children": {
									"MY.habitatEnumValue3": {
										"children": {
											"MY.habitatEnumValue4": {},
											"MY.habitatEnumValue5": {}
										},
										"order": [
											"MY.habitatEnumValue4",
											"MY.habitatEnumValue5"
										]
									},
									"MY.habitatEnumValue7": {},
									"MY.habitatEnumValue15": {}
								},
								"order": [
									"MY.habitatEnumValue3",
									"MY.habitatEnumValue7",
									"MY.habitatEnumValue15"
								]
							},
							"MY.habitatEnumValue6": {}
						},
						"order": [
							"MY.habitatEnumValue2",
							"MY.habitatEnumValue6"
						]
					},
					"MY.habitatEnumValue13": {
						"children": {
							"MY.habitatEnumValue14": {},
							"MY.habitatEnumValue15": {}
						},
						"order": [
							"MY.habitatEnumValue14",
							"MY.habitatEnumValue15"
						]
					},
					"MY.habitatEnumValue34": {
						"children": {
							"MY.habitatEnumValue35": {},
							"MY.habitatEnumValue36": {},
							"MY.habitatEnumValue39": {},
							"MY.habitatEnumValue37": {},
							"MY.habitatEnumValue38": {},
							"MY.habitatEnumValue40": {
								"children": {
									"MY.habitatEnumValue41": {},
									"MY.habitatEnumValue42": {},
									"MY.habitatEnumValue43": {}
								},
								"order": [
									"MY.habitatEnumValue41",
									"MY.habitatEnumValue42",
									"MY.habitatEnumValue43"
								]
							},
							"MY.habitatEnumValue44": {
								"children": {
									"MY.habitatEnumValue45": {},
									"MY.habitatEnumValue46": {},
									"MY.habitatEnumValue47": {}
								},
								"order": [
									"MY.habitatEnumValue45",
									"MY.habitatEnumValue46",
									"MY.habitatEnumValue47"
								]
							}
						},
						"order": [
							"MY.habitatEnumValue35",
							"MY.habitatEnumValue36",
							"MY.habitatEnumValue39",
							"MY.habitatEnumValue37",
							"MY.habitatEnumValue38",
							"MY.habitatEnumValue40",
							"MY.habitatEnumValue44"
						]
					}
				},
				"order": [
					"MY.habitatEnumValue1",
					"MY.habitatEnumValue13",
					"MY.habitatEnumValue34"
				]
			}
		}
	},
	"formData": {
		"gatheringEvent": {
			"leg": [
				"MA.308"
			],
			"legPublic": true
		},
		"gatherings": [
			{
				"units": [
					{
						"recordBasis": "MY.recordBasisHumanObservation",
						"taxonConfidence": "MY.taxonConfidenceSure",
						"sex": "",
						"lifeStage": "",
						"taste": "",
						"smell": "",
						"preservation": "",
						"plantStatusCode": "",
						"unitGathering": {
							"geometry": {
								"type": "Point",
								"coordinates": [
									26.137184965492345,
									60.7004125979137
								]
							}
						}
					}
				],
				"predominantTree": "",
				"images": [
					"MM.88769"
				],
				"wgs84GeometryCollection": {
					"geometries": [
						{
							"type": "Point",
							"coordinates": [
								24.870703618981512,
								61.127719772224225
							]
						},
						{
							"type": "Point",
							"coordinates": [
								22.610449396180194,
								60.96267416530286
							],
							"radius": 69736.93332070159
						}
					]
				}
			},
			{
				"units": [
					{
						"recordBasis": "MY.recordBasisHumanObservation",
						"informalNameString": "ass",
						"unitType": [
							"MVL.2"
						],
						"taxonID": "MX.47092",
						"taxonConfidence": "MY.taxonConfidenceSure",
						"sex": "",
						"lifeStage": "",
						"taste": "",
						"smell": "",
						"preservation": "",
						"plantStatusCode": "",
						"identifications": [
							{
								"taxon": "ass",
								"taxonID": "MX.47092"
							}
						],
						"unitGathering": {
							"geometry": {}
						}
					}
				],
				"predominantTree": ""
			},
			{
				"dateBegin": "2016-12-08",
				"locality": "kekekek",
				"predominantTree": ""
			}
		],
		"editors": [
			"MA.308"
		]
	}
}
