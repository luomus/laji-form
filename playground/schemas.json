{
	"id": "JX.519",
	"name": "trip report",
	"language": "fi",
	"title": "Retkilomake",
	"description": "Tällä lomakkeella voit ilmoittaa yhden tai useamman päivän kestäneen retken kaikki havaintotiedot ja mahdollisesti kokoelmanäytteeksi otettujen yksilöiden tiedot.",
	"instructions": {
		"fi": "https://laji.fi/about/1107",
		"en": "https://laji.fi/about/1107",
		"sv": "https://laji.fi/about/1107"
	},
	"uiSchema": {
		"ui:shortcuts": {
			"alt": {
				"fn": "help",
				"delay": 1
			},
			"alt+F5": {
				"fn": "revalidate"
			},
			"Enter": {
				"fn": "navigate"
			},
			"shift+Enter": {
				"fn": "navigate",
				"reverse": true
			},
			"ctrl+Enter": {
				"fn": "textareaRowInsert"
			},
			"alt+ ": {
				"fn": "navigate"
			},
			"alt+shift+ ": {
				"fn": "navigate",
				"reverse": true
			},
			"alt+PageDown": {
				"fn": "navigateArray",
				"target": "root_gatherings",
				"targetLabel": "paikkaan"
			},
			"alt+PageUp": {
				"fn": "navigateArray",
				"reverse": true,
				"target": "root_gatherings",
				"targetLabel": "paikkaan"
			},
			"alt+ArrowRight": {
				"fn": "navigateArray",
				"target": "root_gatherings",
				"targetLabel": "paikkaan"
			},
			"alt+ArrowLeft": {
				"fn": "navigateArray",
				"reverse": true,
				"target": "root_gatherings",
				"targetLabel": "paikkaan"
			},
			"alt+ArrowUp": {
				"fn": "navigateArray",
				"reverse": true,
				"target": "root_gatherings_%{root_gatherings.activeIdx}_units",
				"targetLabel": "havaintoon"
			},
			"alt+ArrowDown": {
				"fn": "navigateArray",
				"target": "root_gatherings_%{root_gatherings.activeIdx}_units",
				"targetLabel": "havaintoon"
			},
			"alt+h": {
				"fn": "navigateArray",
				"reverse": true,
				"target": "root_gatherings",
				"targetLabel": "paikkaan"
			},
			"alt+j": {
				"fn": "navigateArray",
				"target": "root_gatherings_%{root_gatherings.activeIdx}_units",
				"targetLabel": "havaintoon"
			},
			"alt+k": {
				"fn": "navigateArray",
				"reverse": true,
				"target": "root_gatherings_%{root_gatherings.activeIdx}_units",
				"targetLabel": "havaintoon"
			},
			"alt+l": {
				"fn": "navigateArray",
				"target": "root_gatherings",
				"targetLabel": "paikkaan"
			},
			"alt+n": {
				"fn": "navigateArray"
			},
			"alt+p": {
				"fn": "navigateArray",
				"reverse": true
			},
			"alt+Insert": {
				"fn": "insert"
			},
			"alt+i": {
				"fn": "insert"
			},
			"alt+Delete": {
				"fn": "delete"
			},
			"alt+d": {
				"fn": "delete"
			},
			"alt+u": {
				"fn": "insert",
				"target": "root_gatherings_%{root_gatherings.activeIdx}_units",
				"targetLabel": "havainto"
			},
			"alt+g": {
				"fn": "insert",
				"target": "root_gatherings",
				"targetLabel": "paikka"
			}
		},
		"ui:order": [
			"gatheringEvent",
			"gatherings"
		],
		"ui:field": "InjectField",
		"ui:options": {
			"injections": {
				"fields": [
					"editors",
					"secureLevel"
				],
				"target": "gatheringEvent"
			}
		},
		"gatheringEvent": {
			"ui:field": "NestField",
			"classNames": "well well-sm",
			"ui:order": [
				"*",
				"legPublic",
				"secureLevel",
				"eventTime"
			],
			"ui:options": {
				"nests": {
					"legEditor": {
						"fields": [
							"leg",
							"editors"
						],
						"rootUiSchema": {
							"ui:field": "NestField",
							"ui:options": {
								"nests": {
									"_legEditor": {
										"fields": [
											"leg",
											"editors"
										],
										"title": "",
										"rootUiSchema": {
											"ui:functions": [
												{
													"ui:field": "DependentBooleanField",
													"ui:options": {
														"booleanField": "editors",
														"booleanDefiner": "leg"
													}
												},
												{
													"ui:field": "ArrayCombinerField"
												}
											],
											"ui:field": "TableField",
											"ui:options": {
												"specialRules": "legEditors",
												"ui:buttonsDesktopLayout": true
											},
											"items": {
												"ui:functions": {
													"ui:field": "ContextInjectionField",
													"ui:options": {
														"injections": {
															"/ui:options/rules/0/regexp": "/creator"
														}
													}
												},
												"ui:field": "DependentDisableField",
												"ui:options": {
													"rules": [
														{
															"disableDefiner": "leg",
															"disableField": "editors",
															"regexp": "creator is injected here",
															"inlineHelp": "Sinulla täytyy olla muokkausoikeus.",
															"disabledValueToDisplay": true
														},
														{
															"disableDefiner": "leg",
															"disableField": "editors",
															"regexp": "^((?!(MA\\.\\d)).)*$"
														}
													]
												}
											}
										}
									},
									"legEditorSizeFixer": {
										"fields": [
											"_legEditor"
										],
										"title": "",
										"rootUiSchema": {
											"ui:field": "GridLayoutField",
											"ui:options": {
												"lg": 6,
												"md": 6,
												"sm": 9,
												"xs": 12
											}
										}
									}
								}
							}
						}
					},
					"eventTime": {
						"fields": [
							"dateBegin",
							"dateEnd"
						],
						"title": "",
						"rootUiSchema": {
							"ui:field": "GridLayoutField",
							"ui:options": {
								"lg": {
									"dateBegin": 3,
									"dateEnd": 2
								},
								"md": {
									"dateBegin": 4,
									"dateEnd": 2
								},
								"sm": {
									"dateBegin": 5,
									"dateEnd": 3
								},
								"xs": 12
							}
						}
					}
				}
			},
			"leg": {
				"ui:widget": "AutosuggestWidget",
				"ui:help": "Voit lisätä kaverisi käyttäjätunnuksen havainnoijaksi, jolloin havainto näkyy myös hänen omissa havainnoissaan. Automaattinen tekstin täydennys ehdottaa vahvistettujen kavereittesi nimiä. Voit myös lisätä muita havainnoijia kirjoittamalla heidän nimensä, vaikkeivat he olisi kavereitasi, tällöin näytetään punainen kolmio nimen kohdalla. Voit antaa kavereille oikeuden muokata lomaketta valitsemalla \"Kyllä\". Voit pyytää toista käyttäjää kaveriksesi profiilisivullasi. Profiilisi aukeaa klikkaamalla omaa käyttäjätunnustasi oikealla yläpalkissa. Etsi kaverisi nimellä hakemalla profiilisivulta ja valitse \"Lisää kaveriksi\". Sen jälkeen kun hän on vahvistanut pyyntösi omassa profiilissaan, olette kavereita ja voitte esim. Vihko-palvelussa tallentaa yhteisiä havaintoja.",
				"ui:options": {
					"autosuggestField": "friends",
					"allowNonsuggestedValue": true,
					"suggestionReceive": "key",
					"preventTypingPattern": "^MA\\.\\d+$"
				}
			},
			"editors": {
				"ui:help": "Jos lisäät tälle lomakkeelle uuden havainnoijan, joka on profiilissasi luokiteltu kaveriksesi, voit antaa hänelle oikeuden muokata retkikertomusta. Muokkausoikeuden haltijoille kaikki lomakkeeseen tallennetut havainnot näkyvät myös heidän omina havaintoinaan.",
				"ui:options": {
					"allowUndefined": false
				}
			},
			"dateBegin": {
				"ui:widget": "DateTimeWidget",
				"ui:options": {
					"showButtons": true
				}
			},
			"dateEnd": {
				"ui:widget": "DateTimeWidget"
			},
			"secureLevel": {
				"ui:widget": "AnyToBooleanWidget",
				"ui:help": "Valinta mahdollistaa tarkan paikkatiedon karkeistamisen julkisesta Laji.fi-palvelusta. Huomaathan, että tallentamasi tieto on karkeistamisesta huolimatta viranomaisten käytössä. Karkeistettuihin havaintoihin liitetyt valokuvat ovat julkisia.",
				"ui:options": {
					"trueValue": "MX.secureLevelKM10",
					"falseValue": "MX.secureLevelNone",
					"allowUndefined": false
				}
			},
			"legPublic": {
				"ui:options": {
					"allowUndefined": false,
					"invert": true
				}
			}
		},
		"gatherings": {
			"ui:functions": [
				{
					"ui:field": "NamedPlaceChooserField"
				},
				{
					"ui:field": "ContextInjectionField",
					"ui:options": {
						"injections": {
							"/ui:options/activeIdx": "/activeGatheringIdx"
						}
					}
				}
			],
			"ui:field": "MapArrayField",
			"ui:help": "Aloita havaintojen ilmoittaminen piirtämällä havaintoalue kartalle",
			"ui:settings": [
				"/mapOptions/tileLayerName",
				"/mapOptions/overlayNames",
				"/mapOptions/tileLayerOpacity"
			],
			"ui:options": {
				"mapOptions": {
					"controls": {
						"drawClear": true,
						"drawDelete": true,
						"drawReverse": true
					}
				},
				"geometryField": "geometry",
				"geometryMapper": "units",
				"mapSizes": {
					"lg": 4,
					"md": 4,
					"sm": 6,
					"xs": 12
				},
				"buttons": [
					{
						"fn": "add",
						"label": "Lisää paikka"
					}
				],
				"popupFields": [
					{
						"mapper": "taxon"
					},
					{
						"field": "sex"
					},
					{
						"field": "notes"
					}
				],
				"belowFields": [
					"units"
				],
				"belowUiSchemaRoot": {
					"ui:field": "SingleItemArrayField",
					"ui:options": {
						"titleFormat": "Paikan %{idx} havainnot"
					}
				},
				"inlineUiSchemaRoot": {
					"ui:field": "AccordionArrayField",
					"ui:options": {
						"headerFormatters": [
							"units",
							"locality"
						],
						"popupFields": [
							{
								"field": "units",
								"mapper": "units"
							},
							{
								"field": "localityDescription"
							}
						],
						"titleFormat": "%{Title} %{idx}",
						"confirmDelete": true
					}
				},
				"propsToPassToInlineSchema": [
					"errorSchema",
					"formData"
				],
				"minHeight": 435,
				"resizeTimeout": 210,
				"buttonsPath": "/items/units",
				"removeAddButtonPath": "/",
				"addTxt": "Lisää paikka"
			},
			"items": {
				"ui:functions": {
					"ui:field": "NamedPlaceSaverField"
				},
				"ui:field": "NestField",
				"ui:options": {
					"nests": {
						"eventTime": {
							"title": "",
							"fields": [
								"dateBegin",
								"dateEnd"
							],
							"uiSchemaRoot": {
								"ui:field": "GridLayoutField",
								"ui:options": {
									"lg": {
										"dateBegin": 6,
										"dateEnd": 3
									},
									"md": {
										"dateBegin": 7,
										"dateEnd": 4
									},
									"sm": 12,
									"xs": 12
								}
							}
						},
						"placeWrapper": {
							"title": "Havaintopaikan tiedot",
							"fields": [
								"locality",
								"localityDescription",
								"images",
								"eventTime",
								"weather",
								"notes",
								"geometry",
								"namedPlaceID"
							],
							"rootUiSchema": {
								"ui:field": "ScopeField",
								"ui:settings": [
									"%additionalFields/scopeField_gatherings"
								],
								"ui:options": {
									"includeAdditionalFieldsChooserButton": true,
									"additionalsPersistenceId": "gatherings",
									"fields": [
										"locality",
										"localityDescription",
										"images",
										"weather",
										"notes"
									],
									"titles": {
										"eventTime": "Aika"
									}
								}
							}
						}
					}
				},
				"ui:order": [
					"*",
					"units"
				],
				"geometry": {
					"ui:field": "HiddenField"
				},
				"namedPlaceID": {
					"ui:field": "HiddenField"
				},
				"images": {
					"ui:field": "ImageArrayField",
					"ui:options": {
						"capturerVerbatimPath": "/gatheringEvent/leg"
					}
				},
				"dateBegin": {
					"ui:widget": "DateTimeWidget",
					"ui:options": {
						"showButtons": true
					}
				},
				"dateEnd": {
					"ui:widget": "DateTimeWidget"
				},
				"units": {
					"ui:childFunctions": {
						"ui:field": "FlatField",
						"ui:options": {
							"fields": [
								"identifications",
								"unitGathering"
							]
						}
					},
					"ui:field": "SingleActiveArrayField",
					"ui:title": "",
					"ui:options": {
						"renderer": "table",
						"normalRenderingTreshold": "sm",
						"confirmDelete": true,
						"buttons": [
							{
								"fn": "add",
								"label": "Lisää havainto"
							},
							{
								"fn": "copy",
								"label": "Kopioi havainto",
								"type": "whitelist",
								"filter": [
									"recordBasis",
									"unitType",
									"taxonConfidence",
									"lifeStage",
									"preservation",
									"plantLifeStage",
									"breeding",
									"atlasCode",
									"twitched",
									"nativeStatus",
									"identifications_0_det",
									"identifications_0_detDate",
									"identifications_0_identificationBasis",
									"samplingMethod",
									"unitGathering_habitatIUCN",
									"unitGathering_habitatDescription",
									"unitGathering_dateBegin",
									"unitGathering_dateEnd"
								]
							}
						]
					},
					"items": {
						"ui:functions": {
							"ui:field": "AutosuggestField",
							"ui:options": {
								"autosuggestField": "taxon",
								"allowNonsuggestedValue": true,
								"suggestionInputField": "identifications_0_taxon",
								"suggestionValueField": "identifications_0_taxonID",
								"suggestionReceivers": {
									"identifications_0_taxon": "value",
									"unitType": "$taxonGroup",
									"identifications_0_taxonID": "key"
								},
								"inputTransformer": {
									"regexp": "^(.*)\\?$",
									"transformations": {
										"taxonConfidence": "MY.taxonConfidenceUnsure"
									}
								}
							}
						},
						"ui:field": "ScopeField",
						"classNames": "well well-sm",
						"ui:settings": [
							"%additionalFields/scopeField_gathering_unit_unitType"
						],
						"ui:order": [
							"identifications",
							"count",
							"notes",
							"unitType",
							"taxonConfidence",
							"recordBasis",
							"*",
							"images"
						],
						"ui:options": {
							"additionalsGroupingPath": "/fieldScopes/unitType",
							"additionalsGroupingOrderer": "unitType",
							"additionalsGroupsTranslator": "taxonGroups",
							"additionalsPersistenceKey": "unitType",
							"additionalsPersistenceId": "gathering_unit_unitType",
							"includeAdditionalFieldsChooserButton": true,
							"glyphFields": [
								{
									"glyph": "camera",
									"show": "images",
									"label": "Lisää valokuva"
								},
								{
									"glyph": "map-marker",
									"fn": "setLocation",
									"label": "Valitse sijainti"
								}
							],
							"fields": [
								"identifications_0_taxonID",
								"identifications_0_taxon",
								"count",
								"notes",
								"unitType",
								"taxonConfidence",
								"recordBasis"
							],
							"fieldScopes": {
								"unitType": {
									"*": {
										"title": "Kaikki",
										"additionalFields": [
											"identifications_0_det",
											"identifications_0_detDate",
											"identifications_0_identificationBasis",
											"sex",
											"unitGathering_dateBegin",
											"unitGathering_dateEnd",
											"unitGathering_habitatIUCN",
											"unitGathering_habitatDescription",
											"preservation",
											"samplingMethod",
											"breeding"
										]
									},
									"MVL.1": {
										"additionalFields": [
											"atlasCode",
											"movingStatus",
											"twitched"
										]
									},
									"MVL.21": {
										"additionalFields": [
											"nativeStatus",
											"plantLifeStage",
											"plantStatusCode"
										]
									},
									"MVL.232": {
										"additionalFields": [
											"lifeStage",
											"hostID"
										]
									},
									"MVL.233": {
										"title": "Sienet",
										"additionalFields": [
											"unitGathering_substrate",
											"substrateSpecies",
											"smell",
											"smellNotes",
											"taste",
											"tasteNotes"
										]
									}
								}
							}
						},
						"uiSchema": {
							"ui:field": "GridLayoutField",
							"ui:options": {
								"lg": {
									"identifications_0_taxonID": 3,
									"identifications_0_taxon": 3,
									"count": 1,
									"notes": 2,
									"unitType": 2,
									"taxonConfidence": 2,
									"recordBasis": 2,
									"identifications_0_identificationBasis": 2,
									"unitGathering_dateBegin": 3,
									"unitGathering_dateEnd": 3,
									"*": 2
								},
								"md": {
									"identifications_0_taxonID": 3,
									"identifications_0_taxon": 3,
									"count": 1,
									"notes": 3,
									"unitType": 2,
									"taxonConfidence": 2,
									"recordBasis": 2,
									"identifications_0_identificationBasis": 2,
									"unitGathering_dateBegin": 3,
									"unitGathering_dateEnd": 3,
									"identifications_0_detDate": 3,
									"*": 2
								},
								"sm": {
									"identifications_0_taxonID": 4,
									"identifications_0_taxon": 4,
									"count": 2,
									"identifications_0_identificationBasis": 6,
									"unitGathering_dateBegin": 4,
									"unitGathering_dateEnd": 4,
									"notes": 5,
									"*": 4
								},
								"xs": 12,
								"rows": [
									[
										"identifications_0_taxon",
										"taxonConfidence",
										"recordBasis",
										"count",
										"notes"
									]
								]
							}
						},
						"identifications": {
							"taxonID": {
								"ui:widget": "HiddenWidget"
							},
							"detDate": {
								"ui:widget": "DateWidget"
							}
						},
						"unitType": {
							"ui:field": "HiddenField"
						},
						"images": {
							"ui:field": "ImageArrayField",
							"ui:options": {
								"capturerVerbatimPath": "/gatheringEvent/leg"
							}
						},
						"unitGathering": {
							"geometry": {
								"ui:field": "HiddenField"
							},
							"dateBegin": {
								"ui:widget": "DateTimeWidget"
							},
							"dateEnd": {
								"ui:widget": "DateTimeWidget"
							}
						},
						"recordBasis": {
							"ui:options": {
								"filterType": "whitelist",
								"filter": [
									"",
									"MY.recordBasisHumanObservationPhoto",
									"MY.recordBasisPreservedSpecimen",
									"MY.recordBasisHumanObservationHandled",
									"MY.recordBasisHumanObservation"
								],
								"order": [
									"",
									"MY.recordBasisHumanObservation",
									"MY.recordBasisHumanObservationPhoto",
									"MY.recordBasisPreservedSpecimen",
									"MY.recordBasisHumanObservationHandled"
								]
							}
						},
						"hostID": {
							"ui:widget": "AutosuggestWidget",
							"ui:options": {
								"autosuggestField": "taxon",
								"allowNonsuggestedValue": true,
								"suggestionReceive": "key"
							}
						},
						"substrateSpecies": {
							"ui:widget": "AutosuggestWidget",
							"ui:options": {
								"autosuggestField": "taxon",
								"allowNonsuggestedValue": true,
								"suggestionReceive": "key"
							}
						}
					}
				}
			}
		}
	},
	"attributes": {
		"id": "JX.519"
	},
	"schema": {
		"type": "object",
		"properties": {
			"editors": {
				"type": "array",
				"title": "Muokkausoikeus",
				"items": {
					"type": "string"
				}
			},
			"secureLevel": {
				"type": "string",
				"title": "Havainnon paikkatiedot karkeistetaan 10 x 10 km² karttaruutuun",
				"default": "MX.secureLevelNone",
				"enum": [
					"MX.secureLevelNone",
					"MX.secureLevelKM10"
				],
				"enumNames": [
					"Ei salausta",
					"10 km"
				]
			},
			"gatheringEvent": {
				"type": "object",
				"title": "",
				"properties": {
					"leg": {
						"type": "array",
						"title": "Havainnoijat",
						"items": {
							"type": "string"
						}
					},
					"legPublic": {
						"type": "boolean",
						"title": "Havainnoijien nimet salataan",
						"default": true
					},
					"dateBegin": {
						"type": "string",
						"title": "Alku"
					},
					"dateEnd": {
						"type": "string",
						"title": "Loppu"
					}
				},
				"required": []
			},
			"gatherings": {
				"type": "array",
				"title": "Paikka",
				"items": {
					"type": "object",
					"properties": {
						"dateBegin": {
							"type": "string",
							"title": "Alku"
						},
						"dateEnd": {
							"type": "string",
							"title": "Loppu"
						},
						"locality": {
							"type": "string",
							"title": "Paikannimet"
						},
						"localityDescription": {
							"type": "string",
							"title": "Paikan vapaamuotoinen kuvaus"
						},
						"images": {
							"type": "array",
							"title": "Kuvat havaintopaikasta",
							"items": {
								"type": "string"
							}
						},
						"units": {
							"type": "array",
							"title": "Havainnot",
							"items": {
								"type": "object",
								"properties": {
									"recordBasis": {
										"type": "string",
										"title": "Havainnointitapa",
										"default": "MY.recordBasisHumanObservation",
										"enum": [
											"",
											"MY.recordBasisPreservedSpecimen",
											"MY.recordBasisHumanObservation",
											"MY.recordBasisHumanObservationPhoto",
											"MY.recordBasisHumanObservationHandled"
										],
										"enumNames": [
											"",
											"Näyte",
											"Havaittu",
											"Valokuvattu",
											"Käsitelty (otettu kiinni, ei näytettä)"
										]
									},
									"unitType": {
										"type": "array",
										"title": "Näytteen tyyppi",
										"items": {
											"type": "string"
										}
									},
									"taxonConfidence": {
										"type": "string",
										"title": "Määrityksen varmuus",
										"default": "MY.taxonConfidenceSure",
										"enum": [
											"",
											"MY.taxonConfidenceSure",
											"MY.taxonConfidenceUnsure",
											"MY.taxonConfidenceSubspeciesUnsure"
										],
										"enumNames": [
											"",
											"Varma",
											"Epävarma",
											"Alalaji epävarma"
										]
									},
									"notes": {
										"type": "string",
										"title": "Lisätiedot"
									},
									"count": {
										"type": "string",
										"title": "Määrä"
									},
									"sex": {
										"type": "string",
										"title": "Sukupuoli",
										"enum": [
											"",
											"MY.sexM",
											"MY.sexF",
											"MY.sexW",
											"MY.sexU",
											"MY.sexN",
											"MY.sexX",
											"MY.sexE",
											"MY.sexC"
										],
										"enumNames": [
											"",
											"Koiras",
											"Naaras",
											"Työläinen",
											"Tuntematon",
											"Soveltumaton",
											"Gynandromorfi",
											"Eri sukupuolia",
											"Ristiriitainen"
										]
									},
									"lifeStage": {
										"type": "string",
										"title": "Elinvaihe",
										"enum": [
											"",
											"MY.lifeStageEgg",
											"MY.lifeStageLarva",
											"MY.lifeStagePupa",
											"MY.lifeStageJuvenile",
											"MY.lifeStageNymph",
											"MY.lifeStageSubimago",
											"MY.lifeStageImmature",
											"MY.lifeStageAdult",
											"MY.lifeStageFertile",
											"MY.lifeStageSterile",
											"MY.lifeStageTadpole",
											"MY.lifeStageDead",
											"MY.lifeStageAlive"
										],
										"enumNames": [
											"",
											"muna",
											"toukka",
											"kotelo",
											"nuori",
											"nymfi",
											"esiaikuinen",
											"keskenkasvuinen",
											"aikuinen",
											"lisääntymiskykyinen",
											"lisääntymiskyvytön",
											"nuijapää",
											"kuollut",
											"elävä"
										]
									},
									"hostID": {
										"type": "string",
										"title": "Isäntälaji"
									},
									"substrateSpecies": {
										"type": "string",
										"title": "Kasvualusta (laji)"
									},
									"taste": {
										"type": "string",
										"title": "Maku",
										"enum": [
											"",
											"MY.tasteNotTasted",
											"MY.tasteNoTaste",
											"MY.tasteWeak",
											"MY.tasteModerate",
											"MY.tasteStrong"
										],
										"enumNames": [
											"",
											"Ei maistettu",
											"Ei makua",
											"Mieto",
											"Kohtalainen",
											"Voimakas"
										]
									},
									"tasteNotes": {
										"type": "string",
										"title": "Makumuistiinpanot"
									},
									"smell": {
										"type": "string",
										"title": "Haju",
										"enum": [
											"",
											"MY.smellNotSmelled",
											"MY.smellNoSmelled",
											"MY.smellWeak",
											"MY.smellModerate",
											"MY.smellStrong"
										],
										"enumNames": [
											"",
											"Ei haistettu",
											"Ei hajua",
											"Heikko",
											"Kohtalainen",
											"Vahva"
										]
									},
									"smellNotes": {
										"type": "string",
										"title": "Hajumuistiinpanot"
									},
									"preservation": {
										"type": "string",
										"title": "Säilöntätapa",
										"enum": [
											"",
											"MY.preservationPinned",
											"MY.preservationGlued",
											"MY.preservationEthanol",
											"MY.preservationEthanolPure",
											"MY.preservationEthanol96",
											"MY.preservationEthanol80",
											"MY.preservationEthanol80Pure",
											"MY.preservationEthanol70",
											"MY.preservationEthanolDenatured",
											"MY.preservationFormalin",
											"MY.preservationEthanolFormalin",
											"MY.preservationGlycerol",
											"MY.preservationLiquid",
											"MY.preservationEulan",
											"MY.preservationSlide",
											"MY.preservationSlideEuparal",
											"MY.preservationSlidePolyviol",
											"MY.preservationSlideCanadaBalsam",
											"MY.preservationCriticalPointDrying",
											"MY.preservationGoldPlated",
											"MY.preservationFreezeDried",
											"MY.preservationFrozen",
											"MY.preservationDry",
											"MY.preservationStuffed",
											"MY.preservationParaffin",
											"MY.preservationPressed",
											"MY.preservationLiving",
											"MY.preservationCast",
											"MY.preservationEthanolExFormalin",
											"MY.preservationMercuricChloride",
											"MY.preservationBouinSolution",
											"MY.preservationPampelsFluid"
										],
										"enumNames": [
											"",
											"neulattu",
											"liimattu",
											"etanoli (tuntematon %)",
											"etanoli (tuntematon %) puhdas",
											"etanoli 96 %",
											"etanoli 80 %",
											"etanoli 80 % puhdas",
											"etanoli 70 %",
											"denaturoitu etanoli",
											"formaliini",
											"etanoli ja formaliini",
											"glyseroli",
											"nestenäyte",
											"Eulan",
											"objektilasi",
											"objektilasi - Euparal",
											"objektilasi - Polyviol",
											"objektilasi - Kanadabalsami",
											"MY.preservationCriticalPointDrying",
											"kullattu",
											"kylmäkuivattu",
											"jäädytetty",
											"MY.preservationDry",
											"täytetty (stuffed)",
											"parafiini",
											"kuivattu ja prässätty",
											"elävä",
											"Valos",
											"Etanoli, aiemmin formaliini",
											"Sublimaatti",
											"Bouin liuos",
											"Pampelin neste"
										]
									},
									"plantLifeStage": {
										"type": "string",
										"title": "Kasvin elinvaihe",
										"enum": [
											"",
											"MY.plantLifeStageSterile",
											"MY.plantLifeStageFertile",
											"MY.plantLifeStageSeed",
											"MY.plantLifeStageSprout",
											"MY.plantLifeStageBud",
											"MY.plantLifeStageFlower",
											"MY.plantLifeStageWitheredFlower",
											"MY.plantLifeStageRipeningFruit",
											"MY.plantLifeStageRipeFruit",
											"MY.plantLifeStageDeadSprout",
											"MY.plantLifeStageSubterranean",
											"MY.plantLifeStageLivingPlant",
											"MY.plantLifeStageDeadPlant"
										],
										"enumNames": [
											"",
											"steriili",
											"fertiili",
											"siemen / itiö / hedelmä",
											"verso",
											"nuppu",
											"kukka",
											"kuihtunut kukka",
											"kypsyviä siemeniä / hedelmiä / itiöitä",
											"kypsiä siemeniä / hedelmiä / itiöitä",
											"kuollut verso",
											"mukula / sipuli / juuri",
											"elävä",
											"kuollut"
										]
									},
									"plantStatusCode": {
										"type": "string",
										"title": "Kasvin statuskoodi",
										"enum": [
											"",
											"MY.MY.plantStatusCodeL",
											"MY.plantStatusCodeA",
											"MY.plantStatusCodeAV",
											"MY.plantStatusCodeAOV",
											"MY.plantStatusCodeAN",
											"MY.plantStatusCodeANV",
											"MY.plantStatusCodeANS",
											"MY.plantStatusCodeT",
											"MY.plantStatusCodeTV",
											"MY.plantStatusCodeTOV",
											"MY.plantStatusCodeTNV",
											"MY.plantStatusCodeTNS",
											"MY.plantStatusCodeV",
											"MY.plantStatusCodeOV",
											"MY.plantStatusCodeN",
											"MY.plantStatusCodeNV",
											"MY.plantStatusCodeNS",
											"MY.plantStatusCodeE",
											"MY.plantStatusCodeTE",
											"MY.plantStatusCodeTVE",
											"MY.plantStatusCodeTOVE",
											"MY.plantStatusCodeTNVE",
											"MY.plantStatusCodeTNSE",
											"MY.plantStatusCodeTN",
											"MY.plantStatusCodeTNE",
											"MY.plantStatusCodeR",
											"MY.plantStatusCodeC",
											"MY.plantStatusCodeH",
											"MY.plantStatusCodeG",
											"MY.plantStatusCodeF"
										],
										"enumNames": [
											"",
											"L - luonnonvarainen; ei arviota alkuperäisyydestä, tuloajasta tai vakinaisuudesta",
											"A - alkuperäinen, vanha tai uusi, ei arviota vakinaisuudesta",
											"AV - alkuperäinen, ei arviota tuloajasta, vakinainen",
											"AOV - alkuperäinen, vanhaa perua, vakinainen",
											"AN - alkuperäinen, uutta perua, ei arviota vakinaisuudesta",
											"ANV - alkuperäinen, uutta perua, vakinainen",
											"ANS - alkuperäinen, uutta perua, satunnainen",
											"T - tulokas, ei arviota tuloajasta eikä vakinaisuudesta",
											"TV - tulokas, ei arviota tuloajasta, vakinainen",
											"TOV - muinaistulokas, vakinainen",
											"TNV - uustulokas, vakinainen",
											"TNS - uustulokas, satunnainen",
											"V - ei arviota alkuperäisyydestä eikä tuloajasta, vakinainen",
											"OV - ei arviota alkuperäisyydestä, vanhaa perua, vakinainen",
											"N - ei arviota alkuperäisyydestä, uutta perua, ei arviota vakinaisuudesta",
											"NV - ei arviota alkuperäisyydestä, uutta perua, vakinainen",
											"NS - ei arviota alkuperäisyydestä, uutta perua, satunnainen",
											"E - viljelykarkulainen",
											"TE - tulokas, viljelykarkulainen",
											"TVE - tulokas, vakiintunut, viljelykarkulainen",
											"TOVE - muinaistulokas, vakiintunut, viljelykarkulainen",
											"TNVE - uustulokas, vakiintunut, viljelykarkulainen",
											"TNSE - uustulokas, satunnainen, viljelykarkulainen",
											"TN - tulokas, uusi, ei arviota vakinaisuudesta",
											"TNE - tulokas, uusi, ei arviota vakinaisuudesta, viljelykarkulanen",
											"R - viljelyjäänne",
											"C - viljelykasvi",
											"H - puutarhan sisäkarkulainen (/hort)",
											"G - kasvihuonekasvi (tai muu sisäkasvi), oli sitten viljelty tai villi",
											"F - subfossiili, fossiili"
										]
									},
									"breeding": {
										"type": "boolean",
										"title": "Pesintä"
									},
									"atlasCode": {
										"type": "string",
										"title": "Pesimisvarmuusindeksi",
										"enum": [
											"",
											"MY.atlasCodeEnum1",
											"MY.atlasCodeEnum2",
											"MY.atlasCodeEnum3",
											"MY.atlasCodeEnum4",
											"MY.atlasCodeEnum5",
											"MY.atlasCodeEnum6",
											"MY.atlasCodeEnum7",
											"MY.atlasCodeEnum8",
											"MY.atlasCodeEnum61",
											"MY.atlasCodeEnum62",
											"MY.atlasCodeEnum63",
											"MY.atlasCodeEnum64",
											"MY.atlasCodeEnum65",
											"MY.atlasCodeEnum66",
											"MY.atlasCodeEnum71",
											"MY.atlasCodeEnum72",
											"MY.atlasCodeEnum73",
											"MY.atlasCodeEnum74",
											"MY.atlasCodeEnum75",
											"MY.atlasCodeEnum81",
											"MY.atlasCodeEnum82"
										],
										"enumNames": [
											"",
											"1 Epätodennäköinen pesintä; Havaittu laji paikallisena pesimäaikaan, mutta lähes varmasti se ei pesi ruudussa",
											"2 Mahdollinen pesintä; Havaittu yksittäinen lintu kerran (esim. laulava tai soidinääntelevä koiras) lajille sopivassa pesimäympäristössä, ja lajin pesintä ruudussa on mahdollista",
											"3 Mahdollinen pesintä; Havaittu pari kerran sopivassa pesimäympäristössä, ja lajin pesintä ruudussa on mahdollista",
											"4 Todennäköinen pesintä; Havaittu laulava, soidinmenoja esittävä tai muuten samalla paikalla (eli pysyvällä reviirillä) oleskeleva koiras eri päivinä",
											"5 Todennäköinen pesintä;  Havaittu samalla paikalla oleskeleva naaras tai pari eri päivinä",
											"6 Todennäköinen pesintä; Havaittu lintu tai pari",
											"7 Varma pesintä; Havaittu epäsuora todiste varmasta pesinnästä",
											"8 Varma pesintä; Havaittu suora todiste pesinnästä",
											"61 Todennäköinen pesintä; Havaittu lintu tai pari käymässä useasti todennäköisellä pesäpaikalla",
											"62 Todennäköinen pesintä; Havaittu lintu tai pari rakentamassa pesää",
											"63 Todennäköinen pesintä; Havaittu lintu tai pari varoittelemassa",
											"64 Todennäköinen pesintä; Havaittu lintu tai pari näyttelemässä siipirikkoa",
											"65 Todennäköinen pesintä; Havaittu lintu tai pari hyökkäilemässä",
											"66 Todennäköinen pesintä; Nähty pesä, jossa samanvuotista rakennusmateriaalia tai ravintojätettä; ei kuitenkaan varmaa todistetta munista tai poikasista",
											"71 Varma pesintä; Havaittu epäsuora todiste varmasta pesinnästä: nähty pesä, jossa on pesitty samana vuonna, koska siinä munia tai niiden kuoria, jätteitä poikasista, sulkatuppien \"hilsettä\", tms.",
											"72 Varma pesintä; Havaittu epäsuora todiste varmasta pesinnästä: havaittu linnun menevän pesään tai lähtevän pesästä tavalla, joka selvästi viittaa pesimiseen",
											"73 Varma pesintä; Havaittu epäsuora todiste varmasta pesinnästä: havaittu juuri lentokykyiset poikaset tai untuvikot, jotka voidaan katsoa syntyneiksi ruudun alueella",
											"74 Varma pesintä; Havaittu epäsuora todiste varmasta pesinnästä: havaittu emo kantamassa ruokaa poikasille tai poikasten ulosteita; pesän voidaan katsoa olevan ruudun alueella",
											"75  Varma pesintä; Havaittu epäsuora todiste varmasta pesinnästä: nähty pesässä hautova emo",
											"81 Varma pesintä; Havaittu suora todiste pesinnästä: kuultu poikasten ääntelevän pesässä",
											"82 Varma pesintä; Havaittu suora todiste pesinnästä: nähty pesä, jossa munia tai poikasia"
										]
									},
									"movingStatus": {
										"type": "string",
										"title": "Linnun tila"
									},
									"twitched": {
										"type": "boolean",
										"title": "Bongattu"
									},
									"nativeStatus": {
										"type": "string",
										"title": "Luonnonvaraisuus",
										"enum": [
											"",
											"MY.native",
											"MY.nonNative"
										],
										"enumNames": [
											"",
											"Luonnonvarainen",
											"Ei-luonnonvarainen"
										]
									},
									"images": {
										"type": "array",
										"title": "Kuvat",
										"items": {
											"type": "string"
										}
									},
									"identifications": {
										"type": "array",
										"items": {
											"type": "object",
											"properties": {
												"taxon": {
													"type": "string",
													"title": "Nimi"
												},
												"taxonID": {
													"type": "string",
													"title": "Taksonin tunniste"
												},
												"det": {
													"type": "string",
													"title": "Määrittäjä (det.)"
												},
												"detDate": {
													"type": "string",
													"title": "Määritysaika"
												},
												"identificationBasis": {
													"type": "array",
													"title": "Määritysperuste",
													"uniqueItems": true,
													"items": {
														"type": "string",
														"enum": [
															"",
															"MY.identificationBasisSeen",
															"MY.identificationBasisHeard",
															"MY.identificationBasisHandled",
															"MY.identificationBasisMedia",
															"MY.identificationBasisFreshSpecimen",
															"MY.identificationBasisPreservedSpecimen",
															"MY.identificationBasisMicroscope",
															"MY.identificationBasisSpores",
															"MY.identificationBasisChemical",
															"MY.identificationBasisGenitals",
															"MY.identificationBasisGenitalPreparate",
															"MY.identificationBasisDNA"
														],
														"enumNames": [
															"",
															"Näköhavainto",
															"Kuulohavainto",
															"Käsitelty",
															"Valokuva tai muu media",
															"Tuorenäyte",
															"Säilötty / kuivattu näyte",
															"Mikroskopointi",
															"Itiöt",
															"Kemiallinen",
															"Genitaali",
															"Genitaalipreparaatti",
															"DNA-määritys"
														]
													}
												}
											},
											"required": []
										},
										"minItems": 1
									},
									"unitGathering": {
										"type": "object",
										"properties": {
											"geometry": {
												"type": "object",
												"properties": {},
												"title": "Geometria"
											},
											"dateBegin": {
												"type": "string",
												"title": "Alku"
											},
											"dateEnd": {
												"type": "string",
												"title": "Loppu"
											},
											"habitatIUCN": {
												"type": "string",
												"title": "Biotooppi"
											},
											"habitatDescription": {
												"type": "string",
												"title": "Biotoopin kuvaus"
											},
											"substrate": {
												"type": "string",
												"title": "Kasvualustamuistiinpanot"
											}
										},
										"required": []
									},
									"samplingMethod": {
										"type": "string",
										"title": "Keruumenetelmä",
										"enum": [
											"",
											"MY.samplingMethodLight",
											"MY.samplingMethodPitfall",
											"MY.samplingMethodNet",
											"MY.samplingMethodMalaise",
											"MY.samplingMethodSoilsample",
											"MY.samplingMethodSweeping",
											"MY.samplingMethodBait",
											"MY.samplingMethodBaittrap",
											"MY.samplingMethodFeromonetrap",
											"MY.samplingMethodWindowtrap",
											"MY.samplingMethodPantrap",
											"MY.samplingMethodYellowpan",
											"MY.samplingMethodYellowWindowTrap",
											"MY.samplingMethodYellowtrap",
											"MY.samplingMethodTrap",
											"MY.samplingMethodLightTrap",
											"MY.samplingMethodMistnet",
											"MY.samplingMethodHand",
											"MY.samplingMethodCarnet",
											"MY.samplingMethodDropping",
											"MY.samplingMethodExovo",
											"MY.samplingMethodElarva",
											"MY.samplingMethodEpupa",
											"MY.samplingMethodReared",
											"MY.samplingMethodEclectortrap",
											"MY.samplingMethodSifting",
											"MY.samplingMethodBoard",
											"MY.samplingMethodDrag",
											"MY.samplingMethodTriangleDrag",
											"MY.samplingMethodFishNet",
											"MY.samplingMethodElectrofishing",
											"MY.samplingMethodAngleFishing",
											"MY.samplingMethodFishTrap",
											"MY.samplingMethodSeine",
											"MY.samplingMethodTrawling",
											"MY.samplingMethodOther",
											"MY.samplingMethodDiving",
											"MY.samplingMethodBeamTrawl",
											"MY.samplingMethodDigging",
											"MY.samplingMethodWashing"
										],
										"enumNames": [
											"",
											"Valo",
											"Kuoppapyydys",
											"Haavi",
											"Malaise",
											"Maaperänäyte",
											"Lyöntihaavi",
											"Syötti",
											"Syöttiansa",
											"Feromoniansa",
											"Ikkunapyydys",
											"Maljapyydys",
											"Keltamalja",
											"Keltainen ikkunapyydys",
											"Keltainen liimapyydys",
											"Ansa (määrittelemätön)",
											"Valoansa",
											"Lintuverkko",
											"Käsin",
											"Autohaavi",
											"Ravistelu",
											"Kasvatettu, munasta",
											"Kasvatettu, toukasta",
											"Kasvatettu, kotelosta",
											"Kasvatettu",
											"Eclector",
											"Seulos",
											"Lautapyydys",
											"Hara",
											"Kolmiohara",
											"Kalaverkko",
											"Sähkökalastus",
											"Onkiminen",
											"Katiska tai rysä",
											"Nuotta",
											"Troolaus",
											"Muu",
											"Sukeltamalla",
											"Puomitrooli",
											"Kaivuu",
											"Maaston peseminen"
										]
									}
								},
								"required": []
							},
							"minItems": 1
						},
						"geometry": {
							"type": "object",
							"properties": {},
							"title": "Geometria"
						},
						"weather": {
							"type": "string",
							"title": "Sää"
						},
						"notes": {
							"type": "string",
							"title": "Lisätiedot"
						},
						"namedPlaceID": {
							"type": "string",
							"title": "Nimetty paikka"
						}
					},
					"required": []
				}
			}
		},
		"required": []
	},
	"validators": {
		"gatheringEvent": {
			"properties": {
				"leg": {
					"presence": {
						"message": "Vähintään yksi havainnoija täytyy ilmoittaa."
					}
				},
				"dateBegin": {
					"datetime": {
						"latest": "now",
						"message": "Päivämäärä ei voi olla tulevaisuudessa."
					},
					"crossCheck": {
						"check": "dateEnd",
						"message": "Alku on pakollinen jos loppu on ilmoitettu."
					},
					"presence": {
						"message": "Alku on pakollinen"
					}
				},
				"dateEnd": {
					"datetime": {
						"latest": "now",
						"message": "Päivämäärä ei voi olla tulevaisuudessa."
					},
					"compareDate": {
						"isAfter": "dateBegin",
						"message": "Aikavälin alun %{value} pitää olla ennen loppua %{key}"
					}
				}
			},
			"presence": true
		},
		"gatherings": {
			"items": {
				"properties": {
					"dateBegin": {
						"datetime": {
							"latest": "now",
							"message": "Päivämäärä ei voi olla tulevaisuudessa."
						},
						"crossCheck": {
							"check": "dateEnd",
							"message": "Alku on pakollinen jos loppu on ilmoitettu."
						}
					},
					"dateEnd": {
						"datetime": {
							"latest": "now",
							"message": "Päivämäärä ei voi olla tulevaisuudessa."
						},
						"compareDate": {
							"isAfter": "dateBegin",
							"message": "Aikavälin alun %{value} pitää olla ennen loppua %{key}"
						}
					},
					"units": {
						"items": {
							"properties": {
								"identifications": {
									"presence": {
										"message": "@taxonValidation"
									}
								},
								"unitGathering": {
									"properties": {
										"dateBegin": {
											"datetime": {
												"latest": "now",
												"message": "Päivämäärä ei voi olla tulevaisuudessa."
											},
											"crossCheck": {
												"check": "dateEnd",
												"message": "Alku on pakollinen jos loppu on ilmoitettu."
											}
										},
										"dateEnd": {
											"datetime": {
												"latest": "now",
												"message": "Päivämäärä ei voi olla tulevaisuudessa."
											},
											"compareDate": {
												"isAfter": "dateBegin",
												"message": "Aikavälin alun %{value} pitää olla ennen loppua %{key}"
											}
										}
									}
								}
							}
						},
						"presence": {
							"message": "Vähintään yksi havainto täytyy ilmoittaa."
						}
					},
					"geometry": {
						"geometry": {
							"requireShape": true,
							"maximumSize": 10,
							"includeGatheringUnits": true,
							"message": {
								"missingGeometries": "Paikalla täytyy olla vähintään yksi kuvio.",
								"invalidBoundingBoxHectares": "Liian iso alue. Maksimi on %{max} hehtaaria"
							},
							"boundingBoxMaxHectares": 1000000
						}
					}
				}
			},
			"presence": {
				"message": "Vähintään yksi paikka täytyy ilmoittaa."
			}
		}
	},
	"warnings": {},
	"uiSchemaContext": {
		"creator": "MA.308",
		"formID": "JX.519",
		"activeGatheringIdx": 0
	},
	"formData": {
  "gatheringEvent": {
    "leg": [
      "MA.308"
    ],
    "legPublic": true
  },
  "gatherings": [
    {
      "images": [
        "MM.89909"
      ],
      "units": [
        {
          "recordBasis": "MY.recordBasisHumanObservationPhoto",
          "unitType": [],
          "taxonConfidence": "MY.taxonConfidenceSure",
          "count": "223lkj",
          "images": [],
          "identifications": [
            {
              "taxon": "sdf",
              "identificationBasis": []
            }
          ],
          "unitGathering": {
            "geometry": {},
            "dateBegin": "2017-02-12"
          },
          "unitFact": {}
        }
      ],
      "geometry": {
        "type": "GeometryCollection",
        "geometries": [
          {
            "type": "Point",
            "coordinates": [
              27.49391338721197,
              63.51505459680076
            ]
          }
        ]
      }
    }
  ],
  "editors": [],
  "secureLevel": "MX.secureLevelNone"
},
	"settings": {
		  "#root_gatherings$MapArrayField/mapOptions/tileLayerName": "maastokartta",
		  "%additionalFields/scopeField_gathering_unit_unitType": {
			"undefined": {
			  "unitGathering_dateBegin": true,
			  "unitGathering_dateEnd": false
			}
		  }
		} 
}
